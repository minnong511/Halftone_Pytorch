<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <title>Halftone Live</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
<main>
    <section id="video-pane">
        <img id="stream" src="{{ url_for('stream') }}" alt="Halftone Stream" />
    </section>
    <section id="control-pane">
        <h1>Halftone Controls</h1>
        <div class="section">
            <div class="control">
                <label for="camera">Camera</label>
                <select id="camera">
                    {% for cam in cameras %}
                    <option value="{{ cam.id }}" {% if cam.id == default_camera %}selected{% endif %}>{{ cam.label }}</option>
                    {% endfor %}
                </select>
            </div>
            <h2>Hardware Acceleration</h2>
            <div id="hardware-info"></div>
        </div>
        <div class="section">
            <div class="control">
                <label for="preset">Preset</label>
                <select id="preset">
                    <option value="custom" {% if default_preset is none %}selected{% endif %}>Custom</option>
                    {% for preset in presets %}
                    <option value="{{ preset.id }}" {% if preset.id == default_preset %}selected{% endif %}>{{ preset.label }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="control">
                <label for="cell">Cell<span id="cell-value"></span></label>
                <input id="cell" type="range" min="4" max="64" step="1" />
            </div>
            <div class="control">
                <label for="r_max">R_MAX<span id="r_max-value"></span></label>
                <input id="r_max" type="range" min="1" max="32" step="1" />
            </div>
            <div class="control">
                <label for="r_min">R_MIN<span id="r_min-value"></span></label>
                <input id="r_min" type="range" min="0" max="32" step="1" />
            </div>
            <div class="control">
                <label for="gamma">Gamma<span id="gamma-value"></span></label>
                <input id="gamma" type="range" min="2" max="30" step="1" />
            </div>
            <div class="control">
                <label for="blur_level">Blur Level<span id="blur_level-value"></span></label>
                <input id="blur_level" type="range" min="0" max="7" step="1" />
            </div>
            <div class="control">
                <label for="mode">Mode<span id="mode-value">{{ default_mode|upper }}</span></label>
                <select id="mode">
                    {% for mode in modes %}
                    <option value="{{ mode }}" {% if mode == default_mode %}selected{% endif %}>{{ mode|capitalize }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="control">
                <label for="dot_color">Dot Color<span id="color-value">{{ default_color.upper() }}</span></label>
                <input id="dot_color" type="color" value="{{ default_color }}" />
            </div>
            <button id="snapshot">Save Snapshot</button>
            <div id="status"></div>
        </div>
    </section>
</main>
<script src="{{ url_for('static', filename='app.js') }}" defer></script>
</body>
</html>
